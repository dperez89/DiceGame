"use strict";

launchGame();

function launchGame(){
	let totalPoints = 0;
	let newOddEvenPoints;
	let newGreaterThanPoints;
	let diceResults;
	let userInput = displayMainMenu();

	if (userInput === "start"){
		startGame();
		for(let turnsLeft = 4; turnsLeft >= 0; turnsLeft--){
			diceResults = rollDice();
			newOddEvenPoints = getOddEvenPoints(diceResults);
			newGreaterThanPoints = getGreaterThanPoints(diceResults);
			totalPoints += (newOddEvenPoints + newGreaterThanPoints);
			alert("You currently have " + totalPoints + " points.");
			alert("You have " + turnsLeft + " turns left.")
		}
	}
	else if(userInput === "exit"){
		exitGame();
		return 0;
	}
}	

function displayMainMenu(){
	alert("Please make a selection!");
	let userInput = prompt("START " + "or" + " EXIT")
	userInput = userInput.toLowerCase();
	if (userInput !== "start" && userInput !== "exit"){
		alert("Command not recognized, please try again")
		displayMainMenu();
	}
	return userInput;
}

function startGame(){
	alert("You have started a game!");
	return 0;
}

function exitGame(){
	alert("Thanks for playing!");
	return 0;
}

function rollDice(){
		alert("You roll the dice!")
		let diceResults = [];
		let d4 = Math.floor(Math.random() * 4 + 1);
		let d6 = Math.floor(Math.random() * 6 + 1);
		let d8 = Math.floor(Math.random() * 8 + 1);
		let d10 = Math.floor(Math.random() * 10 + 1);
		let d12 = Math.floor(Math.random() * 12 + 1);
		let d20 = Math.floor(Math.random() * 20 + 1);
		diceResults.push(d4,d6,d8,d10,d12,d20);
		alert("You rolled " + diceResults);
		let rollAgain = prompt("Would you like to roll again? YES or NO.");
		rollAgain = rollAgain.toLowerCase();
		if(rollAgain == "yes"){
			diceResults = rollDiceAgain();
			return diceResults;
		}
		else if (rollAgain == "no"){
			return diceResults;
		}
}

function rollDiceAgain(){
		let diceResults = [];
		alert("You roll the dice a second time!");
		let d4 = Math.floor(Math.random() * 4 + 1);
		let d6 = Math.floor(Math.random() * 6 + 1);
		let d8 = Math.floor(Math.random() * 8 + 1);
		let d10 = Math.floor(Math.random() * 10 + 1);
		let d12 = Math.floor(Math.random() * 12 + 1);
		let d20 = Math.floor(Math.random() * 20 + 1);
		diceResults.push(d4,d6,d8,d10,d12,d20);
		alert("You rolled " + diceResults);
		return diceResults;
}

function getOddEvenPoints(diceResults){
	let newOddEvenPoints = 0;
	let evenNumberPoints = 1
	let oddNumberPoints = -1
	let evenNumberDivisor = 2
	for (let i = 0; i < diceResults.length; i++){
		if (diceResults[i] % evenNumberDivisor == 0){
			newOddEvenPoints += evenNumberPoints;
		}
		else if(diceResults[i] % evenNumberDivisor != 0){
			newOddEvenPoints += oddNumberPoints;
		}
	}
	return newOddEvenPoints;
}

function getGreaterThanPoints(diceResults){
	let newGreaterThanPoints = 0;
	let evenGreaterThanTenPoints = 3;
	let oddGreaterThanTenPoints = -3;
	let evenGreaterThanFivePoints = 2;
	let oddGreaterThanFivePoints = -2;
	let evenNumberDivisor = 2;
	let greaterThanTen = 10;
	let greaterThanFive = 5
	for(let i = 0; i < diceResults.length; i++){
		if(diceResults[i] % evenNumberDivisor == 0 && diceResults[i] >= greaterThanTen){
			newGreaterThanPoints += evenGreaterThanTenPoints;
		}
		else if(diceResults[i] % evenNumberDivisor != 0 && diceResults[i] >= greaterThanTen){
			newGreaterThanPoints += oddGreaterThanTenPoints;
		}
		else if(diceResults[i] % evenNumberDivisor == 0 && diceResults[i] >= greaterThanFive){
			newGreaterThanPoints += evenGreaterThanFivePoints;
		}
		else if(diceResults[i] % evenNumberDivisor != 0 && diceResults[i] >= greaterThanFive){
			newGreaterThanPoints += oddGreaterThanFivePoints;
		}
	}
	return newGreaterThanPoints;
}

function rollD4(){
	let d4 = Math.floor(Math.random() * 4 + 1);
	return d4;
}
function rollD6(){
	let d6 = Math.floor(Math.random() * 6 + 1);
	return d6;
}
function rollD8(){
	let d8 = Math.floor(Math.random() * 8 + 1);
	return d8;
}
function rollD10(){
	let d10 = Math.floor(Math.random() * 10 + 1);
	return d10;
}
function rollD12(){
	let d12 = Math.floor(Math.random() * 12 + 1);
	return d12;
}
function rollD20(){
	let d20 = Math.floor(Math.random() * 20 + 1);
	return d20;
}